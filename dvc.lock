schema: '2.0'
stages:
  ingest:
    cmd: python src/data_ingest.py
    deps:
    - path: data/raw
      hash: md5
      md5: b437f279ad818738eca6b2044b60a594.dir
      size: 27784467
      nfiles: 2
    - path: src/data_ingest.py
      hash: md5
      md5: b939ff135b129dbea37ada92cb20cb5f
      size: 1378
    outs:
    - path: data/processed/cleaned_data.csv
      hash: md5
      md5: 95116c48146eae5d64e15b7fa3327bac
      size: 20540268
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed/cleaned_data.csv
      hash: md5
      md5: 95116c48146eae5d64e15b7fa3327bac
      size: 20540268
    - path: src/train.py
      hash: md5
      md5: d7c5be29e8ae5768db07ab72d2ef3fe6
      size: 2859
    outs:
    - path: models/latest
      hash: md5
      md5: 9a689ec76d4d10f7cbce299d8a9c6609.dir
      size: 224076
      nfiles: 5
  evaluate:
    cmd: python src/evaluate.py --model-dir models/latest --data 
      data/processed/cleaned_data.csv --out metrics.json
    deps:
    - path: data/processed/cleaned_data.csv
      hash: md5
      md5: 95116c48146eae5d64e15b7fa3327bac
      size: 20540268
    - path: models/latest
      hash: md5
      md5: 9a689ec76d4d10f7cbce299d8a9c6609.dir
      size: 224076
      nfiles: 5
    - path: src/evaluate.py
      hash: md5
      md5: a67d0863cf910ef2ec3053882d626284
      size: 1397
    outs:
    - path: metrics.json
      hash: md5
      md5: c75909fb15d1e0dfddc62a334891b421
      size: 89
  promote:
    cmd: cp -r models/latest models/prod
    deps:
    - path: models/latest
      hash: md5
      md5: 9a689ec76d4d10f7cbce299d8a9c6609.dir
      size: 224076
      nfiles: 5
    outs:
    - path: models/prod
      hash: md5
      md5: 9a689ec76d4d10f7cbce299d8a9c6609.dir
      size: 224076
      nfiles: 5
